<div class="packs-page">
  <div class="container">
    <div class="page-header">
      <h1>Packs th√©matiques</h1>
      <p>√âconomisez avec nos packs intelligents et d√©marrez votre biblioth√®que id√©ale</p>
    </div>

    <!-- Error Message -->
    <div class="error-message" *ngIf="error">
      {{ error }}
      <button class="close-error" (click)="error = ''">√ó</button>
    </div>

    <!-- Loading Spinner -->
    <div class="loading-spinner" *ngIf="loading">
      <div class="spinner"></div>
      <p>Chargement des packs...</p>
    </div>

    <div class="packs-grid" *ngIf="!loading && packs.length > 0">
      <div 
        *ngFor="let pack of packs" 
        class="pack-card"
        [class.featured]="pack.isFeatured"
      >
        <div class="pack-image" *ngIf="pack.imageUrl">
          <img [src]="pack.imageUrl" [alt]="pack.name" />
          <div class="featured-badge" *ngIf="pack.isFeatured">‚≠ê Vedette</div>
        </div>

        <div class="pack-content">
          <h3 class="pack-title">{{ pack.name }}</h3>
          <p class="pack-description">{{ pack.description }}</p>

          <div class="pack-details">
            <div class="pack-category" *ngIf="pack.category">
              <span class="category-badge">{{ pack.category }}</span>
            </div>
            
            <div class="pack-stock" *ngIf="pack.stockQuantity !== undefined">
              <span [class.low-stock]="pack.stockQuantity < 5" [class.out-of-stock]="pack.stockQuantity === 0">
                {{ pack.stockQuantity > 0 ? pack.stockQuantity + ' en stock' : 'Rupture de stock' }}
              </span>
            </div>
          </div>

          <div class="pack-price">
            <span class="price-new">{{ pack.price }} MAD</span>
          </div>

          <button 
            class="btn btn-primary"
            [disabled]="!pack.isActive || pack.stockQuantity === 0"
          >
            {{ pack.stockQuantity === 0 ? 'Rupture de stock' : 'Commander ce pack' }}
          </button>
        </div>
      </div>
    </div>

    <!-- No Packs Message -->
    <div class="no-packs" *ngIf="!loading && packs.length === 0 && !error">
      <div class="no-packs-content">
        <span class="no-packs-icon">üì¶</span>
        <h3>Aucun pack disponible</h3>
        <p>Nos packs sont en cours de pr√©paration. Revenez bient√¥t !</p>
        <a routerLink="/all-books" class="btn btn-primary">Voir tous les livres</a>
      </div>
    </div>

    <div class="packs-info" *ngIf="!loading && packs.length > 0">
      <div class="info-card">
        <h3>Pourquoi choisir nos packs ?</h3>
        <ul>
          <li>‚úÖ √âconomies garanties</li>
          <li>‚úÖ S√©lection experte par th√®me</li>
          <li>‚úÖ Livraison group√©e</li>
          <li>‚úÖ Collections soigneusement assembl√©es</li>
        </ul>
      </div>
    </div>
  </div>
</div>
